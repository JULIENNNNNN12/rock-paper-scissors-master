<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rock, Paper, Scissors</title>
  <link rel="stylesheet" href="style/style.css" />
</head>

<body>

  <div class="score-board">
    <div class="item-container">
      <div class="item">Rock</div>
      <div class="item">Paper</div>
      <div class="item">Scissors</div>
    </div>
    <div class="score-container"> 
      <table>
        <tr>
          <td>SCORE</td>
          <td><span id="humanScore">0</span></td> 
        </tr>
      </table>
    </div>
  </div>
 

  <h2>Welcome to Rock Paper Scissors! ü™®‚úã‚úÇÔ∏è</h2>
  <h3 id="chooseText">Choose among : Rock, Paper and Scissors</h3>

  <button id="resetButton" onclick="resetGame()" style="display: none;">Reset Game</button>

  <div id="result"></div>

  <div class="choices-container" style="display: none;">
    <div id="humanVisualChoice"></div>
    <div id="computerVisualChoice"></div>
  </div>

  
  <div id="rulesContainer" style="display: none;">
    <h4>RULES</h4>
    <h4>You play against a computer, if you win you'll gain 1 point and if you lose - 1 point  You are on left. Good luck !</h4>
    <img src="images/image-rules.svg" alt="GAME RULES" />
    <br />
    <button onclick="closeRules()">CLOSE</button>
  </div>

  
  <button id="showRulesBtn" onclick="showRules()">RULES</button>

  <div class="buttons-container" id="game">
    <div class="line rock-paper"></div>
    <div>
      <button class="rock" onclick="playGame('rock')">
        <svg xmlns="http://www.w3.org/2000/svg" width="51" height="45">
          <path fill="#3B4262" d="M45.06 12.22c-.642-8.096-9.734-7.269-9.734-7.269-3.837-6.765-9.832-1.865-9.832-1.865-4.606-6.63-10.38-.486-10.38-.486-9.957-1.074-9.571 7.066-9.571 7.066-.234 2.588 1.403 10.593 1.403 10.593-1.477-4.614-4.68-.784-4.68-.784-3.94 6.078-.975 9.405-.975 9.405 5.33 6.246 16.688 13.743 16.688 13.743 4.113 2.356 2.373 4.457 2.373 4.457l24.876-4.11.571-4.718c3.782-11.436-.739-26.032-.739-26.032z"/>
        </svg>
      </button>
    </div>

    <div class="line paper-scissors"></div>

    <div>
      <button class="scissors" onclick="playGame('scissors')">
        <svg xmlns="http://www.w3.org/2000/svg" width="51" height="59">
          <path fill="#3B4262" d="M13.971 25.702l6.012-8.415c-2.499-.415-7.088-.507-10.846 3.235C3.212 26.421.812 39.163.312 42.248L15.37 57.24c2.711-.232 14.713-1.827 26.279-13.34.122-.249 2.94-2.321.636-4.614-1.1-1.095-2.919-1.074-4.042.044-.572.57-1.461.577-2.021.02-.56-.557-.552-1.443.02-2.012l4.087-4.069c2.076-2.067.119-5.555-2.78-4.717l-3.345 2.851c-.611.53-1.52.439-2.022-.14-.519-.597-.408-1.503.183-2.013 11.687-10.208 9.98-8.979 17.5-15.995 2.809-2.329-.725-6.447-3.493-4.09L28.182 25.45c-.529.448-1.34.457-1.86-.02-.601-.517-.615-1.262-.222-1.85L38.787 3.944c1.854-2.5-1.795-5.277-3.749-2.757L16.28 27.307c-.452.65-1.364.8-1.985.345a1.377 1.377 0 01-.323-1.95z"/>
        </svg>
      </button>
    </div>

    <div class="line rock-scissors"></div>

    <div>
      <button class="paper" onclick="playGame('paper')">
        <svg xmlns="http://www.w3.org/2000/svg" width="51" height="59">
          <path fill="#3B4262" d="M47.125 11.832a2.922 2.922 0 00-1.232-.198c-.57.04-1.029.271-1.302.65-1.604 2.248-2.919 6.493-3.979 9.905-.486 1.577-1.14 3.688-1.612 4.69-.493-2.807.064-13.09.28-17.05l.003-.064c.15-2.751.17-3.234.138-3.446-.238-1.509-.843-2.5-1.799-2.943-.966-.45-2.22-.25-3.572.563-.677.41-.865 1.816-1.446 8.19l-.002.028c-.32 3.502-1.058 11.566-1.965 12.91-1.023-1.88-2.431-12.555-3.039-17.176-.425-3.236-.673-5.094-.84-5.655-.35-1.176-1.83-2.176-3.295-2.232-1.22-.06-2.22.56-2.698 1.638-.894.995-.578 4.292.41 12.102.47 3.718 1.44 11.395.83 12.257-1.219-.133-3.31-4.942-6.215-14.299-.816-2.62-1.068-3.408-1.318-3.753-.494-1.202-2.172-2.129-3.676-2.024a3.183 3.183 0 00-.377.049c-.787.156-2.584.881-2.2 4.226 1.06 4.637 2.213 8.041 3.331 11.346l.023.066c.669 1.98 1.302 3.85 1.89 5.925 1.385 4.9.846 7.94.84 7.975-.046.312-.143.503-.288.57a.556.556 0 01-.195.045c-.44.03-1.098-.26-1.437-.45-.776-1.482-4.636-8.544-8.134-9.524l-.126-.037-.127.012c-1.283.121-2.226.606-2.803 1.441-.914 1.32-.535 3.002-.444 3.34l.052.12c.028.051 2.834 5.165 3.268 7.544.374 2.04 2.311 4.25 3.869 6.026l.064.073c.508.58.946 1.083 1.292 1.548 4.519 4.713 11.665 8.677 11.723 8.71.892.657 1.387 1.293 1.44 1.84a.798.798 0 01-.16.58l-.155.162.988.96 18.853-1.324.804-3.684c2.486-10.402 1.967-19.272 1.958-19.33.01-.327.706-3.483 1.266-6.033l.017-.065c1.117-5.08 2.505-11.4 2.772-13.803.116-1.028-.542-1.972-1.675-2.401z"/>
        </svg>
      </button>
    </div>
  </div>

  <button id="playAgainButton" style="display: none;" onclick="playAgain()">Play Again</button>

  <footer class="attribution">
    Challenge by
    <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
    Coded by <a href="#">MYSELF</a>.

    <div style="display: flex; justify-content: center;">
      <a href="https://www.google.com/" style="margin: 0 5px;">Rock</a>
      <a href="https://www.google.com/" style="margin: 0 5px;">Paper</a>
      <a href="https://www.google.com/" style="margin: 0 5px;">Scissors</a>
    </div>
  </footer>
<script>
     
let humanScore = localStorage.getItem('humanScore') ? parseInt(localStorage.getItem('humanScore')) : 0;


document.getElementById('humanScore').innerText = humanScore;

const getComputerChoice = () => {
  const choices = ["rock", "paper", "scissors"];
  const randomIndex = Math.floor(Math.random() * choices.length);
  return choices[randomIndex];
};


const getWinner = (humanChoice, computerChoice) => {
  if (humanChoice === computerChoice) {
    return 'draw';
  } else if (
    (humanChoice === 'rock' && computerChoice === 'scissors') ||
    (humanChoice === 'scissors' && computerChoice === 'paper') ||
    (humanChoice === 'paper' && computerChoice === 'rock')
  ) {
    return 'human';
  } else {
    return 'computer';
  }
};
 
const updateScore = (winner) => {
  if (winner === 'human') {
    humanScore++;
   
  } else if (winner === 'computer') {
    humanScore--;
    
  } else if (winner === 'draw') {
   
   
  }
  localStorage.setItem('humanScore', humanScore);

  document.getElementById('humanScore').innerText = humanScore;
 
};

const displayResult = (winner, humanChoice, computerChoice) => {
  let resultText = '';
  const resultElement = document.getElementById('result');
  const playAgainButton = document.getElementById('playAgainButton');
  
  
  document.querySelectorAll('.buttons-container button').forEach(button => {
    button.classList.remove('glow-effect');
  });
  
  resultElement.classList.remove('win', 'lose', 'draw');
  document.getElementById('humanVisualChoice').classList.remove('glow');
  document.getElementById('computerVisualChoice').classList.remove('glow');
  playAgainButton.classList.remove('win', 'lose', 'draw'); 
  
  if (winner === 'draw') {
    resultText = `IT'S A DRAW `;
    resultElement.classList.add('draw');
    playAgainButton.classList.add('draw');  
    document.getElementById('humanVisualChoice').classList.add('glow');
    document.getElementById('computerVisualChoice').classList.add('glow');
  } else if (winner === 'human') {
    resultText = `YOU WIN `;
    resultElement.classList.add('win');
    playAgainButton.classList.add('win');  
    document.getElementById('humanVisualChoice').classList.add('glow');
    
   
    document.querySelector(`.${humanChoice}`).classList.add('glow-effect');
  } else {
    resultText = `YOU LOSE`;
    resultElement.classList.add('lose');
    playAgainButton.classList.add('lose');  
    document.getElementById('computerVisualChoice').classList.add('glow');
    
    
    document.querySelector(`.${computerChoice}`).classList.add('glow-effect');
  }

  resultElement.innerText = resultText;
  resultElement.style.display = 'block'; 
};

const resetResultText = () => {
  const resultElement = document.getElementById('result');
  resultElement.innerText = ''; 
  resultElement.style.display = 'none'; 
  
  document.getElementById('humanVisualChoice').classList.remove('glow');
  document.getElementById('computerVisualChoice').classList.remove('glow');
  document.getElementById('playAgainButton').classList.remove('win', 'lose', 'draw');
};


document.getElementById('playAgainButton').addEventListener('click', () => {
  resetResultText();  

   document.getElementById('rockButton').disabled = false;
  document.getElementById('paperButton').disabled = false;
  document.getElementById('scissorsButton').disabled = false;
});

const showChoiceVisuals = (humanChoice, computerChoice) => {
  const humanVisualChoice = document.getElementById('humanVisualChoice');
  const computerVisualChoice = document.getElementById('computerVisualChoice');

  humanVisualChoice.className = 'choice-btn';
  computerVisualChoice.className = 'choice-btn';

  const humanChoiceIcon = document.createElement('img');
  const computerChoiceIcon = document.createElement('img');

  if (humanChoice === 'rock') {
    humanVisualChoice.classList.add('choice-rock');
    humanChoiceIcon.src = 'images/icon-rock.svg';
  } else if (humanChoice === 'paper') {
    humanVisualChoice.classList.add('choice-paper');
    humanChoiceIcon.src = 'images/icon-paper.svg';
  } else if (humanChoice === 'scissors') {
    humanVisualChoice.classList.add('choice-scissors');
    humanChoiceIcon.src = 'images/icon-scissors.svg';
  }

  if (computerChoice === 'rock') {
    computerVisualChoice.classList.add('choice-rock');
    computerChoiceIcon.src = 'images/icon-rock.svg';
  } else if (computerChoice === 'paper') {
    computerVisualChoice.classList.add('choice-paper');
    computerChoiceIcon.src = 'images/icon-paper.svg';
  } else if (computerChoice === 'scissors') {
    computerVisualChoice.classList.add('choice-scissors');
    computerChoiceIcon.src = 'images/icon-scissors.svg';
  }

  humanVisualChoice.innerHTML = '';
  humanVisualChoice.appendChild(humanChoiceIcon);

  computerVisualChoice.innerHTML = '';
  computerVisualChoice.appendChild(computerChoiceIcon);
};

const playGame = (humanChoice) => {
  document.getElementById('chooseText').style.display = 'none';
  document.querySelector('h2').style.display = 'none';

  const computerChoice = getComputerChoice();
  const winner = getWinner(humanChoice, computerChoice);

  displayResult(winner, humanChoice, computerChoice);
  showChoiceVisuals(humanChoice, computerChoice);

  updateScore(winner);

  document.querySelectorAll('.buttons-container button').forEach(button => {
    button.classList.remove('winner');
  });

  if (winner === 'human') {
    document.querySelector(`.${humanChoice}`).classList.add('winner');
  } else if (winner === 'computer') {
    document.querySelector(`.${computerChoice}`).classList.add('winner');
  }

  document.querySelector('.buttons-container').style.display = 'none';
  document.querySelector('.choices-container').style.display = 'block';

  document.getElementById('playAgainButton').style.display = 'inline-block';
  document.getElementById('resetButton').style.display = 'inline-block';
};


const playAgain = () => {
  document.querySelector('.buttons-container').style.display = 'block';
  document.querySelector('.choices-container').style.display = 'none';
  document.getElementById('chooseText').style.display = 'block';
  document.querySelector('h2').style.display = 'block';
  document.getElementById('playAgainButton').style.display = 'none';
};


const resetGame = () => {
  localStorage.removeItem('humanScore');
 
  humanScore = 0;
  
  document.getElementById('humanScore').innerText = humanScore;
 

  document.querySelector('.buttons-container').style.display = 'block';
  document.querySelector('.choices-container').style.display = 'none';
  document.getElementById('chooseText').style.display = 'block';
  document.querySelector('h2').style.display = 'block';
  document.getElementById('resetButton').style.display = 'none';
};

const closeRules = () => {
  document.getElementById('rulesContainer').style.display = 'none';
};

const showRules = () => {
  document.getElementById('rulesContainer').style.display = 'block';
};

 resultElement.innerText = resultText;

 function startNewGame() {
 
  document.getElementById('result').style.display = 'none'; 
}
    </script>
  </body>
</html>
